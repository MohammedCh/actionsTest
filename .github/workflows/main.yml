on:
  push:
    branches: [ main ]
jobs:
  hello_world_job:
    runs-on: ubuntu-latest
    name: A job to say hello
    steps:
      - name: Hello world action step
        id: hello
        uses: MohammedCh/actionsTest@main
        with:
          who-to-greet: 'Mo'
      # Use the output from the `hello` step
      - name: Get the output time
        run: echo "The time was ${{ steps.hello.outputs.time }}"
      - name: update file and push to remote
        run: |
          echo "Test push commit to the remote in the workflow" >> test.txt

          git config --global user.name "actionUser"
          git config --global user.email "mohammed.chakmakchi@lego.com"

          git add -A
          git commit -m "Update test.txt"
          git push
      # - name: stage changed files
      #   run: git init
      # - name: add username
      #   run: git config user.name "actionUser"
      # - name: add email
      #   run: git config user.email "mohammed.chakmakchi@lego.com"
      # - name: stage changed files
      #   run: git add .
      # - name: commit changed files
      #   run: git commit -m "Auto updating txt"
      # - name: commit changed files
      #   run: git remote add origin https://github.com/MohammedCh/actionsTest.git
      # - name: push code to master
      #   run: git push origin:main

